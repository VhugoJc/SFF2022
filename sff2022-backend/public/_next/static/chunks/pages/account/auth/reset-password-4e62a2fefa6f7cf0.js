(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{68795:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(1413),e=c(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},g=c(42135),h=function(a,b){return e.createElement(g.Z,(0,d.Z)((0,d.Z)({},a),{},{ref:b,icon:f}))};h.displayName="SearchOutlined";var i=e.forwardRef(h)},9708:function(a,b,c){"use strict";c.d(b,{F:function(){return i},Z:function(){return h}});var d=c(4942),e=c(94184),f=c.n(e),g=c(93355);function h(a,b,c){var e;return f()((e={},(0,d.Z)(e,"".concat(a,"-status-success"),"success"===b),(0,d.Z)(e,"".concat(a,"-status-warning"),"warning"===b),(0,d.Z)(e,"".concat(a,"-status-error"),"error"===b),(0,d.Z)(e,"".concat(a,"-status-validating"),"validating"===b),(0,d.Z)(e,"".concat(a,"-has-feedback"),c),e))}(0,g.b)("warning","error","");var i=function(a,b){return b||a}},15746:function(a,b,c){"use strict";var d=c(21584);b.Z=d.Z},65223:function(a,b,c){"use strict";c.d(b,{RV:function(){return j},Rk:function(){return k},Ux:function(){return m},aM:function(){return l},q3:function(){return h},qI:function(){return i}});var d=c(87462),e=c(71990),f=c(98423),g=c(67294),h=g.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),i=g.createContext(null),j=function(a){var b=(0,f.Z)(a,["prefixCls"]);return g.createElement(e.FormProvider,(0,d.Z)({},b))},k=g.createContext({prefixCls:""}),l=g.createContext({}),m=function(a){var b=a.children,c=a.status,e=a.override,f=(0,g.useContext)(l),h=(0,g.useMemo)(function(){var a=(0,d.Z)({},f);return e&&delete a.isFormItemInput,c&&(delete a.status,delete a.hasFeedback,delete a.feedbackIcon),a},[c,e,f]);return g.createElement(l.Provider,{value:h},b)}},11382:function(a,b,c){"use strict";var d=c(87462),e=c(4942),f=c(15671),g=c(43144),h=c(32531),i=c(73568),j=c(94184),k=c.n(j),l=c(23279),m=c.n(l),n=c(98423),o=c(67294),p=c(53124),q=c(96159),r=c(93355),s=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};(0,r.b)("small","default","large");var t=null,u=function(a){(0,h.Z)(c,a);var b=(0,i.Z)(c);function c(a){(0,f.Z)(this,c),(g=b.call(this,a)).debouncifyUpdateSpinning=function(a){var b=(a||g.props).delay;b&&(g.cancelExistingSpin(),g.updateSpinning=m()(g.originalUpdateSpinning,b))},g.updateSpinning=function(){var a=g.props.spinning;g.state.spinning!==a&&g.setState({spinning:a})},g.renderSpin=function(a){var b,c,f,h,i,j=a.direction,l=g.props,m=l.spinPrefixCls,p=l.className,r=l.size,u=l.tip,v=l.wrapperClassName,w=l.style,x=s(l,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),y=g.state.spinning,z=k()(m,(b={},(0,e.Z)(b,"".concat(m,"-sm"),"small"===r),(0,e.Z)(b,"".concat(m,"-lg"),"large"===r),(0,e.Z)(b,"".concat(m,"-spinning"),y),(0,e.Z)(b,"".concat(m,"-show-text"),!!u),(0,e.Z)(b,"".concat(m,"-rtl"),"rtl"===j),b),p),A=(0,n.Z)(x,["spinning","delay","indicator","prefixCls"]),B=o.createElement("div",(0,d.Z)({},A,{style:w,className:z,"aria-live":"polite","aria-busy":y}),(c=m,h=(f=g.props).indicator,i="".concat(c,"-dot"),null===h?null:(0,q.l$)(h)?(0,q.Tm)(h,{className:k()(h.props.className,i)}):(0,q.l$)(t)?(0,q.Tm)(t,{className:k()(t.props.className,i)}):o.createElement("span",{className:k()(i,"".concat(c,"-dot-spin"))},o.createElement("i",{className:"".concat(c,"-dot-item")}),o.createElement("i",{className:"".concat(c,"-dot-item")}),o.createElement("i",{className:"".concat(c,"-dot-item")}),o.createElement("i",{className:"".concat(c,"-dot-item")}))),u?o.createElement("div",{className:"".concat(m,"-text")},u):null);if(g.isNestedPattern()){var C=k()("".concat(m,"-container"),(0,e.Z)({},"".concat(m,"-blur"),y));return o.createElement("div",(0,d.Z)({},A,{className:k()("".concat(m,"-nested-loading"),v)}),y&&o.createElement("div",{key:"loading"},B),o.createElement("div",{className:C,key:"container"},g.props.children))}return B};var g,h,i,j=a.spinning,l=a.delay,p=(h=j,i=l,!!h&&!!i&&!isNaN(Number(i)));return g.state={spinning:j&&!p},g.originalUpdateSpinning=g.updateSpinning,g.debouncifyUpdateSpinning(a),g}return(0,g.Z)(c,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var a=this.updateSpinning;a&&a.cancel&&a.cancel()}},{key:"isNestedPattern",value:function(){return!!(this.props&& void 0!==this.props.children)}},{key:"render",value:function(){return o.createElement(p.C,null,this.renderSpin)}}]),c}(o.Component);u.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var v=function(a){var b=a.prefixCls,c=(0,o.useContext(p.E_).getPrefixCls)("spin",b),e=(0,d.Z)((0,d.Z)({},a),{spinPrefixCls:c});return o.createElement(u,(0,d.Z)({},e))};v.setDefaultIndicator=function(a){t=a},b.Z=v},27561:function(a,b,c){var d=c(67990),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},67990:function(a){var b=/\s/;a.exports=function(a){for(var c=a.length;c-- &&b.test(a.charAt(c)););return c}},23279:function(a,b,c){var d=c(13218),e=c(7771),f=c(14841),g=Math.max,h=Math.min;a.exports=function(a,b,c){var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=i,d=j;return i=j=void 0,o=b,l=a.apply(d,c)}function t(a){var c=a-n,d=a-o;return void 0===n||c>=b||c<0||q&&d>=k}function u(){var a,c,d,f,g=e();if(t(g))return v(g);m=setTimeout(u,(c=(a=g)-n,d=a-o,f=b-c,q?h(f,k-d):f))}function v(a){return(m=void 0,r&&i)?s(a):(i=j=void 0,l)}function w(){var a,c=e(),d=t(c);if(i=arguments,j=this,n=c,d){if(void 0===m)return o=a=n,m=setTimeout(u,b),p?s(a):l;if(q)return clearTimeout(m),m=setTimeout(u,b),s(n)}return void 0===m&&(m=setTimeout(u,b)),l}return b=f(b)||0,d(c)&&(p=!!c.leading,q="maxWait"in c,k=q?g(f(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),w.cancel=function(){void 0!==m&&clearTimeout(m),o=0,i=n=j=m=void 0},w.flush=function(){return void 0===m?l:v(e())},w}},33448:function(a,b,c){var d=c(44239),e=c(37005);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},7771:function(a,b,c){var d=c(55639),e=function(){return d.Date.now()};a.exports=e},14841:function(a,b,c){var d=c(27561),e=c(13218),f=c(33448),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;a.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},12339:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/auth/reset-password",function(){return c(75052)}])},9292:function(a,b,c){"use strict";var d=c(67294),e=c(18333),f=function(){return(0,d.useContext)(e.Z)};b.Z=f},75052:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return x}});var d=c(51351),e=c(85893),f=c(33859),g=c(67294),h=c(11163);function i(a){this.message=a}i.prototype=Error(),i.prototype.name="InvalidCharacterError";var j="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(a){var b=String(a).replace(/=+$/,"");if(b.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,d,e=0,f=0,g="";d=b.charAt(f++);~d&&(c=e%4?64*c+d:d,(e++)%4)&&(g+=String.fromCharCode(255&c>>(-2*e&6))))d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d);return g};function k(a){this.message=a}k.prototype=Error(),k.prototype.name="InvalidTokenError";var l=function(a,b){if("string"!=typeof a)throw new k("Invalid token specified");var c=!0===(b=b||{}).header?0:1;try{return JSON.parse(function(a){var b,c=a.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw"Illegal base64url string!"}try{return b=c,decodeURIComponent(j(b).replace(/(.)/g,function(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}catch(d){return j(c)}}(a.split(".")[c]))}catch(d){throw new k("Invalid token specified: "+d.message)}},m=c(79216),n=c(15746),o=c(93940),p=c(57736),q=c(71577),r=c(9669),s=c.n(r),t=c(9292),u=function(a){var b=a.setstaus;(0,h.useRouter)().query;var c=(0,g.useState)(!1),d=c[0],i=c[1],j=(0,t.Z)().getToken,k=function(a){var c=j(),d=a.password,e=""===location.port?location.protocol+"//"+location.host:"http://"+location.hostname+":5000",f={method:"POST",url:"".concat(e,"/api/auth/reset-password"),headers:{"x-token":"".concat(c)},data:{newPassword:d}};console.log(f),s().request(f).then(function(a){i(!0)}).catch(function(a){b("no-authorized"),console.log(a)})},l=function(a){console.log("Failed:",a)};return(0,e.jsx)(e.Fragment,{children:d?(0,e.jsx)(f.ZP,{status:"success",title:"Su correo se ha cambiado exitosamente",subTitle:"Ya puede iniciar sesi\xf3n en la aplicaci\xf3n con su nueva contrase\xf1a"}):(0,e.jsxs)("div",{className:"reset-password_container",children:[(0,e.jsxs)("div",{className:"reset-password_img_container",children:[(0,e.jsx)("h1",{children:"Cambiar mi contrase\xf1a"}),(0,e.jsx)(m.Z,{alt:"reset password",className:"reset-password_img",preview:!1,src:"/assets/img/laptop_illustration.png"})]}),(0,e.jsx)(n.Z,{sm:3}),(0,e.jsx)(n.Z,{sm:18,children:(0,e.jsxs)(o.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:k,onFinishFailed:l,autoComplete:"off",children:[(0,e.jsx)(o.Z.Item,{label:"Contrase\xf1a",name:"password",rules:[{required:!0,message:"Por favor ingresa tu contrase\xf1a!"},{required:!0,min:6,message:"La contrase\xf1a debe ser de almenos 6 caracteres"}],children:(0,e.jsx)(p.Z.Password,{})}),(0,e.jsx)(o.Z.Item,{label:"Repetir Contrase\xf1a",name:"passwordConfirm",rules:[{required:!0,message:"Por favor confirmaa tu contrase\xf1a"},function(a){var b=a.getFieldValue;return{validator:function(a,c){return c&&b("password")!==c?Promise.reject(Error("Las contrase\xf1as no coinciden")):Promise.resolve()}}}],children:(0,e.jsx)(p.Z.Password,{})}),(0,e.jsx)(o.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(q.Z,{type:"primary",htmlType:"submit",children:"Cambiar mi contrase\xf1a"})})]})}),(0,e.jsx)(n.Z,{sm:3})]})})},v=c(11382),w=function(){return(0,e.jsx)("div",{className:"loading-container",children:(0,e.jsx)(v.Z,{size:"large"})})};function x(a){var a=null!==a?a:(0,d.Z)(TypeError("Cannot destructure undefined")),b=(0,h.useRouter)().query,c=(0,g.useState)("checking"),i=c[0],j=c[1];return(0,g.useEffect)(function(){if(b)try{console.log(b.token);var a=l("".concat(b.token));if(a.exp){var c=new Date(1e3*a.exp),d=new Date;c>d?j("authorized"):j("no-authorized")}else j("no-authorized")}catch(e){j("no-authorized")}},[b]),(0,e.jsx)(e.Fragment,{children:"checking"===i?(0,e.jsx)(w,{}):"authorized"===i?(0,e.jsx)(u,{setstaus:j}):(0,e.jsx)(f.ZP,{status:"error",title:"Al parecer ocurri\xf3 un error",subTitle:"Posiblemente el periodo para realizar el cambio de contrase\xf1a ha caducado. Vuelva a repetir el proceso y de no poder acceder, contacte a un administrador"})})}}},function(a){a.O(0,[402,549,481,854,736,940,0,486,859,774,888,179],function(){var b;return a(a.s=12339)}),_N_E=a.O()}])
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{48051:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return c(73655)}])},9292:function(a,b,c){"use strict";var d=c(67294),e=c(18333),f=function(){return(0,d.useContext)(e.Z)};b.Z=f},69906:function(a,b,c){"use strict";c.d(b,{Z:function(){return t}});var d=c(85893),e=c(48869),f=c(55355),g=c(81644),h=c(42952),i=c(19944),j=c(84477),k=c(71577),l=c(99709),m=c(67294),n=c(11163);function o(a,b,c,d,e){return{key:b,icon:c,children:d,label:a,type:e}}var p=[o("Gr\xe1ficas","/admin",(0,d.jsx)(e.Z,{})),o("Organizaci\xf3n","/admin/crud",(0,d.jsx)(f.Z,{})),o("Transacciones","/admin/transactions",(0,d.jsx)(g.Z,{})),o("Configuraci\xf3n","/admin/settings",(0,d.jsx)(h.Z,{})),],q=function(a){var b=a.setCollapsed,c=a.collapsed,e=(0,n.useRouter)(),f=(0,m.useState)([""]),g=f[0],h=f[1];(0,m.useEffect)(function(){h([e.pathname])},[]);var o=function(){b(!c)},q=function(a){e.push(a.key)};return(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(k.Z,{type:"primary",onClick:o,style:{marginBottom:16},children:c?(0,d.jsx)(i.Z,{}):(0,d.jsx)(j.Z,{})}),(0,d.jsx)(l.Z,{selectedKeys:g,onClick:q,defaultSelectedKeys:g,mode:"inline",theme:"dark",inlineCollapsed:c,items:p})]})},r=c(92443),s=c(9292),t=function(a){var b=a.children,c=(0,m.useState)(!1),e=c[0],f=c[1],g=(0,s.Z)(),h=g.isAuth,i=g.logOut,j=(0,n.useRouter)().push,l=(0,m.useState)(!1),o=l[0],p=l[1];return((0,m.useEffect)(function(){console.log(h()),h()?p(!0):j("/account/auth/login")},[]),o)?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"layout-top-menu",children:(0,d.jsx)("div",{className:"layout-top-menu_logout",children:(0,d.jsx)(k.Z,{type:"ghost",onClick:function(){return i()},children:(0,d.jsx)(r.Z,{})})})}),(0,d.jsxs)("div",{className:"layout-flex-container",children:[(0,d.jsx)("div",{className:"layout-menu",children:(0,d.jsx)(q,{collapsed:e,setCollapsed:f})}),(0,d.jsx)("div",{className:"layout-children ".concat(e?"layout-children-1":"layout-children-2"),children:b})]})]}):null}},73655:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return G}});var d=c(51351),e=c(85893),f=c(59652),g=c(76750),h=c(67294),i=c(41799),j=c(69396),k=c(99534),l=c(70603),m=c(3089),n=c(24969),o=c(93940),p=c(16536),q=c(27049),r=c(71230),s=c(15746),t=c(57736),u=c(71577),v=c(9669),w=c.n(v),x=c(38498),y=c(9292),z=function(a){var a=null!==a?a:(0,d.Z)(TypeError("Cannot destructure undefined")),b=(0,l.Z)(o.Z.useForm(),1)[0],c=(0,h.useState)(),f=(c[0],c[1]),g=(0,y.Z)().getToken;(0,h.useEffect)(function(){var a=g(),c={method:"GET",url:"".concat(x.H,"/settings/event"),headers:{"x-token":"".concat(a)}};w().request(c).then(function(a){f(a.data.events),b.setFieldsValue(a.data),console.log(a.data)}).catch(function(a){p.ZP.error("Error al obtener los datos del evento")})},[]);var v=function(a){var b=g(),c={method:"PUT",url:"".concat(x.H,"/settings/event"),headers:{"x-token":"".concat(b)},data:a};w().request(c).then(function(a){var b;(null===(b=a.data)|| void 0===b?void 0:b.message)&&p.ZP.success("Eventos actualizados exitosamente")}).catch(function(a){p.ZP.error("Error al actualizar los datos del evento")})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(q.Z,{children:(0,e.jsx)("p",{children:"Configuraci\xf3n de Eventos"})}),(0,e.jsxs)(o.Z,{form:b,onFinish:v,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",children:[(0,e.jsx)(o.Z.List,{name:"events",children:function(a,b){var c=b.add,d=b.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(a){var b=a.key,c=a.name,f=(0,k.Z)(a,["key","name"]);return(0,e.jsxs)("div",{style:{display:"flex",marginBottom:"2rem",flexDirection:"row"},children:[(0,e.jsx)("div",{style:{flex:"auto"},children:(0,e.jsxs)(r.Z,{gutter:[18,0],children:[(0,e.jsx)(s.Z,{lg:12,children:(0,e.jsx)(o.Z.Item,(0,j.Z)((0,i.Z)({name:[c,"title"],rules:[{required:!0,message:"El t\xedtulo es obligatorio!"}]},f),{style:{width:"120%"},children:(0,e.jsx)(t.Z,{placeholder:"T\xedtulo del evento"})}))}),(0,e.jsx)(s.Z,{lg:12,children:(0,e.jsx)(o.Z.Item,(0,j.Z)((0,i.Z)({name:[c,"date"],rules:[{required:!0,message:"El subt\xedtulo es obligatorio!"}]},f),{style:{width:"120%"},children:(0,e.jsx)(t.Z,{placeholder:"Subtitulo"})}))}),(0,e.jsx)(s.Z,{lg:24,children:(0,e.jsx)(o.Z.Item,{name:[c,"img"],rules:[{type:"url",message:"El formato es incorrecto"}],children:(0,e.jsx)(t.Z,{placeholder:"Url de la imagen"})})})]})}),(0,e.jsx)("div",{style:{width:"5rem",textAlign:"center",paddingTop:"2rem"},children:(0,e.jsx)(m.Z,{onClick:function(){return d(c)}})})]},b)}),(0,e.jsx)(o.Z.Item,{style:{textAlign:"center"},children:(0,e.jsx)(u.Z,{type:"dashed",onClick:function(){return a.length<100?c():null},block:!0,icon:(0,e.jsx)(n.Z,{}),children:"Agregar evento"})})]})}}),(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"Guardar"})})]})]})},A=c(98542),B=c(30381),C=c.n(B),D=function(a){var a=null!==a?a:(0,d.Z)(TypeError("Cannot destructure undefined")),b=(0,h.useState)(),c=b[0],f=b[1],g=(0,l.Z)(o.Z.useForm(),1)[0],i=(0,y.Z)().getToken;(0,h.useEffect)(function(){var a=i(),b={method:"GET",url:"".concat(x.H,"/settings/data"),headers:{"x-token":"".concat(a)}};w().request(b).then(function(a){f(a.data.settings),g.setFieldsValue(a.data.settings),g.setFieldsValue({date:C()(a.data.settings.date)})}).catch(function(a){p.ZP.error("Error al obtener los datos del evento")})},[]);var j=function(a){var b=i(),c={method:"PUT",url:"".concat(x.H,"/settings"),headers:{"x-token":"".concat(b)},data:a};w().request(c).then(function(a){var b;(null===(b=a.data)|| void 0===b?void 0:b.message)&&p.ZP.success("Configuraci\xf3n actualizada exitosamente")}).catch(function(a){p.ZP.error("Error al actualizar los datos de configuraci\xf3n")})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(q.Z,{children:(0,e.jsx)("p",{children:"Configuraci\xf3n General"})}),(0,e.jsxs)(o.Z,{form:g,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",onFinish:j,children:[(0,e.jsx)(o.Z.Item,{name:"webSite",label:"Sitio web",rules:[{required:!0,message:"El campo es obligatorio"},{type:"url",message:"El formato no es v\xe1lido"},],children:(0,e.jsx)(t.Z,{placeholder:"Url sitio de contacto"})}),(0,e.jsx)(o.Z.Item,{name:"logo",label:"Logo",rules:[{required:!0,message:"El campo es obligatorio"},{type:"url",message:"El formato no es v\xe1lido"},],children:(0,e.jsx)(t.Z,{placeholder:"Url del logo"})}),(0,e.jsx)(o.Z.Item,{initialValue:C()(null==c?void 0:c.date),label:"Fecha",name:"date",rules:[{required:!0,message:"El campo es obligatorio"},{type:"date",warningOnly:!0}],children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(q.Z,{children:(0,e.jsx)("p",{children:"Configuraci\xf3n Pantalla principal"})}),(0,e.jsx)(o.Z.List,{name:"homeData",children:function(a,b){return b.add,b.remove,(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z.Item,{name:"img",label:"imagen",rules:[{required:!0,message:"El campo es obligatorio"},{type:"url",message:"El formato no es v\xe1lido"},],children:(0,e.jsx)(t.Z,{placeholder:"Url imagen Home"})}),(0,e.jsx)(o.Z.Item,{name:"title",label:"titulo",rules:[{required:!0,message:"El campo es obligatorio"}],children:(0,e.jsx)(t.Z,{placeholder:"T\xedtulo en Home"})}),(0,e.jsx)(o.Z.Item,{name:"description",label:"descripci\xf3n",rules:[{required:!0,message:"El campo es obligatorio"}],children:(0,e.jsx)(t.Z.TextArea,{placeholder:"Descripci\xf3n en Home"})}),(0,e.jsx)(o.Z.Item,{name:"url",label:"Url",rules:[{required:!0,message:"El campo es obligatorio"},{type:"url",message:"El formato no es v\xe1lido"},],children:(0,e.jsx)(t.Z,{placeholder:"Url para visitar en Home"})})]})}}),(0,e.jsx)(o.Z.Item,{label:" ",children:(0,e.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"Guardar"})})]})]})},E=function(a){var a=null!==a?a:(0,d.Z)(TypeError("Cannot destructure undefined")),b=(0,l.Z)(o.Z.useForm(),1)[0],c=(0,h.useState)(),f=(c[0],c[1]),g=(0,y.Z)().getToken;(0,h.useEffect)(function(){var a=g(),c={method:"GET",url:"".concat(x.H,"/settings/sponsor"),headers:{"x-token":"".concat(a)}};w().request(c).then(function(a){f(a.data.sponsors),b.setFieldsValue(a.data)}).catch(function(a){p.ZP.error("Error al obtener los datos del evento")})},[]);var v=function(a){var b=g(),c={method:"PUT",url:"".concat(x.H,"/settings/sponsor"),headers:{"x-token":"".concat(b)},data:a};w().request(c).then(function(a){var b;(null===(b=a.data)|| void 0===b?void 0:b.message)&&p.ZP.success("Eventos actualizados exitosamente")}).catch(function(a){p.ZP.error("Error al actualizar los datos del evento")})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(q.Z,{children:(0,e.jsx)("p",{children:"Configuraci\xf3n de Patrocinadores"})}),(0,e.jsxs)(o.Z,{form:b,onFinish:v,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",children:[(0,e.jsx)(o.Z.List,{name:"sponsors",children:function(a,b){var c=b.add,d=b.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(a){var b=a.key,c=a.name,f=(0,k.Z)(a,["key","name"]);return(0,e.jsxs)("div",{style:{display:"flex",marginBottom:"2rem",flexDirection:"row"},children:[(0,e.jsx)("div",{style:{flex:"auto"},children:(0,e.jsxs)(r.Z,{gutter:[18,0],children:[(0,e.jsx)(s.Z,{lg:12,children:(0,e.jsx)(o.Z.Item,(0,j.Z)((0,i.Z)({name:[c,"name"],rules:[{required:!0,message:"El t\xedtulo es obligatorio!"}]},f),{style:{width:"120%"},children:(0,e.jsx)(t.Z,{placeholder:"T\xedtulo del evento"})}))}),(0,e.jsx)(s.Z,{lg:12,children:(0,e.jsx)(o.Z.Item,{name:[c,"img"],rules:[{type:"url",message:"El formato es incorrecto"}],children:(0,e.jsx)(t.Z,{placeholder:"Url de la imagen"})})})]})}),(0,e.jsx)("div",{style:{width:"5rem",textAlign:"center",paddingTop:"2rem"},children:(0,e.jsx)(m.Z,{onClick:function(){return d(c)}})})]},b)}),(0,e.jsx)(o.Z.Item,{style:{textAlign:"center"},children:(0,e.jsx)(u.Z,{type:"dashed",onClick:function(){return a.length<100?c():null},block:!0,icon:(0,e.jsx)(n.Z,{}),children:"Agregar patrocinador"})})]})}}),(0,e.jsx)(o.Z.Item,{children:(0,e.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"Guardar"})})]})]})},F=c(69906),G=function(a){var a=null!==a?a:(0,d.Z)(TypeError("Cannot destructure undefined"));return(0,e.jsx)(F.Z,{children:(0,e.jsx)(f.Z,{className:"crud-container",children:(0,e.jsxs)(g.Z,{tabPosition:"left",children:[(0,e.jsx)(g.Z.TabPane,{tab:"General",children:(0,e.jsx)("div",{style:{minHeight:"calc(100vh - 200px)"},children:(0,e.jsx)(D,{})})},"1"),(0,e.jsx)(g.Z.TabPane,{tab:"Eventos",children:(0,e.jsx)("div",{style:{minHeight:"calc(100vh - 200px)"},children:(0,e.jsx)(z,{})})},"2"),(0,e.jsx)(g.Z.TabPane,{tab:"Patrocinadores",children:(0,e.jsx)("div",{style:{minHeight:"calc(100vh - 200px)"},children:(0,e.jsx)(E,{})})},"3")]})})})}}},function(a){a.O(0,[885,402,549,481,854,652,537,696,736,940,426,774,888,179],function(){var b;return a(a.s=48051)}),_N_E=a.O()}])